{
  "name": "Pasta",
  "version": "0.0.0",
  "main": "Pasta.js",
  "ignore": [
    "**/.*",
    "node_modules",
    "components"
  ],
  "dependencies": {
    "underscore": "~1.4.4",
    "underscore-fix": "git://github.com/ympbyc/underscore-fix.git"
  },
  "gitHead": "686988f7ba9c901c387ed16c781c852858df9918",
  "readme": "Pasta\n=====\n\n**Mostly Functional MVC Framework**\n\n2012 Minori Yamashita <ympbyc@gmail.com>\n\n```\n .----------------.  .----------------.  .----------------.  .----------------.  .----------------.\n| .--------------. || .--------------. || .--------------. || .--------------. || .--------------. |\n| |   ______     | || |      __      | || |    _______   | || |  _________   | || |      __      | |\n| |  |_   __ \\   | || |     /  \\     | || |   /  ___  |  | || | |  _   _  |  | || |     /  \\     | |\n| |    | |__) |  | || |    / /\\ \\    | || |  |  (__ \\_|  | || | |_/ | | \\_|  | || |    / /\\ \\    | |\n| |    |  ___/   | || |   / ____ \\   | || |   '.___`-.   | || |     | |      | || |   / ____ \\   | |\n| |   _| |_      | || | _/ /    \\ \\_ | || |  |`\\____) |  | || |    _| |_     | || | _/ /    \\ \\_ | |\n| |  |_____|     | || ||____|  |____|| || |  |_______.'  | || |   |_____|    | || ||____|  |____|| |\n| |              | || |              | || |              | || |              | || |              | |\n| '--------------' || '--------------' || '--------------' || '--------------' || '--------------' |\n '----------------'  '----------------'  '----------------'  '----------------'  '----------------'\n```\n\nPasta is an extremely lightweight (65 lines - uncompressed) function oriented MVC framework for JavaScript.\n\nDependencies\n------------\n\nUnderscore, Underscore-fix\n\n\nAPI\n---\n\n### Pasta/4\n\nPasta takes all it needs to setup an application for you and returns an instance of pasta.\n\n```javascript\nPasta(Model, UI, View, initialData); //=> a Pasta\n```\n\n### signal/1, signal/2\n\n`Pasta()` produces a function named `signal`. `signal()` produces a function that will call a function in your model.\n\n```javascript\n$(\"button\").click(pasta.signal(\"some_function_name\", function (ev) {\n  return \"data\";\n}));\n```\n\nMVC\n---\n\n### State\n\nPasta manages one big plain hashtable to maintain its state. Pasta applications proceed by changing this hashtable and react to that change.\n\nAn example data would look something like this.\n\n```javascript\nvar appData = {\n  user:    {id:1234, name:'Sam'},\n  friends: [{name:'Mike'}, {name:'Tom'}],\n  notes:   [{id:12, text:'hello'}],\n  editing: {text: 'i am typin'}\n};\n```\n\nBecause it is an ordinary JavaScript object, you can store it basically anywhere. Imagine sending the running application state to your server in JSON format and resume from there whenever you get back.\n\n### Model\n\nThe model is one big hashtable of functions. Each function receives the state, whatever a data user has sent, and a reference to `Pasta#signal` function which we will come back to later.\n\nThe model is responsible for modifying the state although it is not allowed to directly touch it. Each function in the model returns a patch hashtable that will get merged to the state by Pasta.\n\n```javascript\nvar Model = _.module(\n  {},\n\n  function edit_name (state, new_name) {\n    return {user: _.assoc(state.user, 'name', new_name)};\n  },\n\n  function add_note (state, note, signal) {\n    $.post('/notes', note, signal(\"note_added\"), 'json');\n    return {};\n  },\n\n  function note_added (state, result, signal) {\n    return {notes: state.notes.concat(result)};\n  }\n);\n```\n\nMore on the `signal` later.\n\nNote: the code above doesn't run on IE. You could just use a plain hashtable instead of relying on `_.module` if you need to support IE.\n\n### UI\n\nThe UI is one big hashtable of functions. The UI is not really a part of Pasta but it's there just for convenience. You can put UI manipulation helpers in this module.\n\n```javascript\nvar UI = _.module(\n  {},\n\n  function change_name (name) {\n    $(\".user-name\").text(name);\n  },\n\n  function render_notes_list (notes) {\n    _.each(notes, function (n) {\n      //...\n    });\n  }\n);\n```\n\n### View\n\nThe view is one big hashtable of functions. Each function receives the UI module, the current state, and the old value of the field the function is responsible for. The role of the view is to reflect the changes made to the state to the actual UI.\n\n```javascript\nvar View = _.module(\n  {},\n\n  //this gets called whenever the `user` field in the state changes\n  function user (UI, state, oldVal) {\n    if (state.user.name !== oldVal.name) {\n      alert('Bye ' + oldVal.name '. Hello ' + state.user.name + '.');\n      UI.change_name(state.user.name);\n    }\n  },\n\n  //this gets called whenever the `notes` field in the state changes\n  function notes (UI, state) {\n    UI.render_notes_list(state.notes);\n  }\n);\n```\n\n### Application\n\nWhen you have prepared your model, ui and the view, it's time to feed them all to Pasta. The function `Pasta` will wire the modules to generate your application. Pasta function produces a function named `signal` which you might want to bind to a variable for later use.\n\n\n### Controller\n\nA controller is whatever that calls `signal`. You tipically call this function when user interacts with the UI, such as clicking on a button or typing in his/her name to a text field. One signal invokes one of the functions defined in the model module.\n\n```javascript\n//invokes Model.edit_name\n$(\"button\").click(signal(\"edit_name\", function (ev) {\n  return \"Dave\";\n}));\n```\n\n\nHow it works\n------------\n\n![How Pasta works](https://raw.github.com/ympbyc/Pasta/master/assets/img/diagram.png)\n\nPasta is\n--------\n\n### capable of handling meta-applications ###\n\nPasta is a great tool to avoid pieces of states scattered all over your app.\nIf your app is made up of hundreds of mutable objects, it is rather cumbersome to gather them all and inspect or save the state of the app while it is running.\nMeanwhile, Pasta forces every changeable data to be put into **the state**, allowing us to inspect, save, load, metaprogram the app.\n\n### platform independent ###\n\nPasta does not assume a particular platform where it is used. You can use Pasta in any JavaScript environment with any GUI APIs.\n\nPasta is not\n------------\n\n### object oriented ###\n\nThis is very important. Pasta does not mix data and behaviours. models and views are collections only of functions,\nand the state is a collection only of data. With Pasta, it is highly possible to create apps that do not contain a single `this` keyword.\n\nYou could of course use your favourite data structure to put into the state or use OO libraries for UI manipulations, but it is not the concern of Pasta.\n\n\nTips\n----\n\nThe state of a Pasta app can be persisted into localstorage, remote server or anywhere you can think of. Just serialize it into JSON and save.\n\nHere goes a crazy tip: you can save the state into the state itself! If you know what I mean...\n\n```javascript\nvar Model = _.module(\n  {},\n\n  function save_history (state) {\n    return {previousState: state};\n  },\n\n  function back-to-the-future (state) {\n    //go back 2 steps\n    return state.previousState.previousState;\n  }\n);\n```\n\n![Back to the future](https://raw.github.com/ympbyc/Pasta/master/assets/img/backtothefuture.jpg)\n\n\nMisc\n----\n\nPasta is licensed under MIT licence\n\n\n\nChange Log\n----------\n\n### 2013/5/22\n\nPasta() now returns the signal function instead of an object.\n",
  "readmeFilename": "README.md",
  "_id": "Pasta@0.1.0",
  "description": "Pasta =====",
  "commit": "686988f7ba9c901c387ed16c781c852858df9918",
  "repository": {
    "type": "git",
    "url": "git://github.com/ympbyc/Pasta.git"
  }
}